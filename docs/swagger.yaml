definitions:
  github_com_cossim_coss-server_internal_admin_api_http_model.Response:
    properties:
      code:
        type: integer
      data: {}
      msg:
        type: string
    type: object
  github_com_cossim_coss-server_internal_msg_api_http_v1.Response:
    properties:
      code:
        type: integer
      data:
        additionalProperties: true
        type: object
      msg:
        type: string
    type: object
  github_com_cossim_coss-server_internal_relation_api_http_model.OpenBurnAfterReadingType:
    enum:
    - 0
    - 1
    type: integer
    x-enum-varnames:
    - BurnClose
    - BurnOpen
  github_com_cossim_coss-server_internal_relation_api_http_model.Response:
    properties:
      code:
        type: integer
      data: {}
      msg:
        type: string
    type: object
  github_com_cossim_coss-server_internal_storage_api_http_model.Response:
    properties:
      code:
        type: integer
      data: {}
      msg:
        type: string
    type: object
  github_com_cossim_coss-server_internal_user_api_http_model.OpenBurnAfterReadingType:
    enum:
    - 0
    - 1
    type: integer
    x-enum-comments:
      CloseBurnAfterReading: 关闭阅后即焚
      OpenBurnAfterReading: 开启阅后即焚消息
    x-enum-varnames:
    - CloseBurnAfterReading
    - OpenBurnAfterReading
  github_com_cossim_coss-server_internal_user_api_http_model.Response:
    properties:
      code:
        type: integer
      data: {}
      msg:
        type: string
    type: object
  model.AbortUploadRequest:
    properties:
      key:
        type: string
      upload_id:
        type: string
    required:
    - key
    - upload_id
    type: object
  model.ActionEnum:
    enum:
    - 0
    - 1
    type: integer
    x-enum-comments:
      ActionAccepted: 同意
      ActionRejected: 拒绝
    x-enum-varnames:
    - ActionRejected
    - ActionAccepted
  model.AddBlacklistRequest:
    properties:
      user_id:
        type: string
    required:
    - user_id
    type: object
  model.AddGroupAdminRequest:
    properties:
      group_id:
        type: integer
      user_ids:
        items:
          type: string
        type: array
    required:
    - group_id
    - user_ids
    type: object
  model.CloseOrOpenDialogAction:
    enum:
    - 0
    - 1
    type: integer
    x-enum-varnames:
    - CloseDialog
    - OpenDialog
  model.CloseOrOpenDialogRequest:
    properties:
      action:
        $ref: '#/definitions/model.CloseOrOpenDialogAction'
      dialog_id:
        type: integer
    required:
    - dialog_id
    type: object
  model.CompleteUploadRequest:
    properties:
      file_name:
        type: string
      key:
        type: string
      type:
        $ref: '#/definitions/model.FileType'
      upload_id:
        type: string
    required:
    - file_name
    - key
    - type
    - upload_id
    type: object
  model.CreateGroupAnnouncementRequest:
    properties:
      content:
        description: 公告内容
        type: string
      group_id:
        description: 群组ID
        type: integer
      title:
        description: 公告标题
        type: string
    required:
    - content
    - group_id
    type: object
  model.DeleteBlacklistRequest:
    properties:
      user_id:
        type: string
    required:
    - user_id
    type: object
  model.DeleteFriendRequest:
    properties:
      user_id:
        type: string
    required:
    - user_id
    type: object
  model.DeleteGroupAnnouncementRequest:
    properties:
      group_id:
        description: 群组ID
        type: integer
      id:
        description: 公告ID
        type: integer
    required:
    - group_id
    - id
    type: object
  model.DeleteRecordRequest:
    properties:
      id:
        description: 申请记录id
        type: integer
    required:
    - id
    type: object
  model.FileType:
    enum:
    - 0
    - 1
    - 2
    - 3
    type: integer
    x-enum-comments:
      FileType_File: 文件类型
      FileType_Image: 图片类型
      FileType_Video: 视频类型
      FileType_Voice: 语音类型
    x-enum-varnames:
    - FileType_Voice
    - FileType_Image
    - FileType_File
    - FileType_Video
  model.GroupRequestListResponse:
    properties:
      create_at:
        type: integer
      creator_id:
        type: string
      expired_at:
        type: integer
      group_avatar:
        type: string
      group_id:
        type: integer
      group_name:
        type: string
      group_status:
        type: integer
      group_type:
        type: integer
      id:
        type: integer
      max_members_limit:
        type: integer
      receiver_info:
        $ref: '#/definitions/model.UserInfo'
      remark:
        type: string
      sender_info:
        $ref: '#/definitions/model.UserInfo'
      status:
        $ref: '#/definitions/model.GroupRequestStatus'
    type: object
  model.GroupRequestListResponseList:
    properties:
      current_page:
        type: integer
      list:
        items:
          $ref: '#/definitions/model.GroupRequestListResponse'
        type: array
      total:
        type: integer
    type: object
  model.GroupRequestStatus:
    enum:
    - 0
    - 1
    - 2
    - 3
    - 4
    type: integer
    x-enum-comments:
      Accepted: 已通过
      InvitationReceived: 邀请接收者
      InviteSender: 邀请发送者
      Pending: 等待
      Rejected: 已拒绝
    x-enum-varnames:
    - Pending
    - Accepted
    - Rejected
    - InviteSender
    - InvitationReceived
  model.InviteGroupRequest:
    properties:
      group_id:
        type: integer
      member:
        items:
          type: string
        type: array
    required:
    - group_id
    - member
    type: object
  model.JoinGroupRequest:
    properties:
      group_id:
        type: integer
    required:
    - group_id
    type: object
  model.LoginRequest:
    properties:
      driver_id:
        type: string
      driver_token:
        type: string
      email:
        type: string
      password:
        type: string
      platform:
        type: string
    required:
    - driver_id
    - driver_token
    - email
    - password
    - platform
    type: object
  model.LogoutRequest:
    properties:
      login_number:
        type: integer
    required:
    - login_number
    type: object
  model.ManageFriendRequest:
    properties:
      action:
        $ref: '#/definitions/model.ActionEnum'
      e2e_public_key:
        type: string
      request_id:
        type: integer
    required:
    - request_id
    type: object
  model.ManageJoinGroupRequest:
    properties:
      action:
        $ref: '#/definitions/model.ActionEnum'
      group_id:
        type: integer
      id:
        type: integer
    required:
    - group_id
    - id
    type: object
  model.ModifyUserSecretBundleRequest:
    properties:
      secret_bundle:
        type: string
    required:
    - secret_bundle
    type: object
  model.OpenUserBurnAfterReadingRequest:
    properties:
      action:
        $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.OpenBurnAfterReadingType'
      timeout:
        type: integer
      user_id:
        description: 用户ID
        type: string
    required:
    - user_id
    type: object
  model.PasswordRequest:
    properties:
      confirm_password:
        type: string
      old_password:
        type: string
      password:
        type: string
    required:
    - confirm_password
    - old_password
    - password
    type: object
  model.Preferences:
    properties:
      open_burn_after_reading:
        $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.OpenBurnAfterReadingType'
      open_burn_after_reading_time_out:
        type: integer
      remark:
        type: string
      silent_notification:
        $ref: '#/definitions/model.SilentNotification'
    type: object
  model.QuitGroupRequest:
    properties:
      group_id:
        type: integer
    required:
    - group_id
    type: object
  model.ReadGroupAnnouncementRequest:
    properties:
      group_id:
        description: 群组ID
        type: integer
      id:
        description: 公告ID
        type: integer
    required:
    - group_id
    - id
    type: object
  model.RegisterRequest:
    properties:
      confirm_password:
        type: string
      email:
        type: string
      nickname:
        type: string
      password:
        type: string
      public_key:
        type: string
    required:
    - confirm_password
    - email
    - password
    type: object
  model.RemoveUserFromGroupRequest:
    properties:
      group_id:
        type: integer
      member:
        items:
          type: string
        type: array
    required:
    - group_id
    - member
    type: object
  model.ResetPublicKeyRequest:
    properties:
      code:
        type: string
      email:
        type: string
      public_key:
        type: string
    required:
    - code
    - email
    - public_key
    type: object
  model.SendAllNotificationRequest:
    properties:
      content:
        type: string
    type: object
  model.SendEmailCodeRequest:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  model.SendFriendRequest:
    properties:
      e2e_public_key:
        type: string
      remark:
        type: string
      user_id:
        type: string
    required:
    - user_id
    type: object
  model.SetGroupOpenBurnAfterReadingTimeOutRequest:
    properties:
      group_id:
        type: integer
      open_burn_after_reading_time_out:
        type: integer
    required:
    - group_id
    - open_burn_after_reading_time_out
    type: object
  model.SetGroupSilentNotificationRequest:
    properties:
      group_id:
        description: 群ID
        type: integer
      is_silent:
        allOf:
        - $ref: '#/definitions/model.SilentNotificationType'
        description: 是否开启静默通知
    required:
    - group_id
    type: object
  model.SetGroupUserRemarkRequest:
    properties:
      group_id:
        type: integer
      remark:
        type: string
    required:
    - group_id
    type: object
  model.SetPublicKeyRequest:
    properties:
      public_key:
        type: string
    required:
    - public_key
    type: object
  model.SetUserFriendRemarkRequest:
    properties:
      remark:
        description: 备注
        type: string
      user_id:
        description: 用户ID
        type: string
    required:
    - user_id
    type: object
  model.SetUserSilentNotificationRequest:
    properties:
      is_silent:
        allOf:
        - $ref: '#/definitions/model.SilentNotificationType'
        description: 是否开启静默通知
      user_id:
        description: 用户ID
        type: string
    required:
    - user_id
    type: object
  model.SilentNotification:
    enum:
    - 0
    - 1
    type: integer
    x-enum-comments:
      IsSilentNotification: 开启静默通知
      NotSilentNotification: 不开启静默通知
    x-enum-varnames:
    - NotSilentNotification
    - IsSilentNotification
  model.SilentNotificationType:
    enum:
    - 0
    - 1
    type: integer
    x-enum-comments:
      IsSilent: 开启静默通知
      NotSilent: 静默通知关闭
    x-enum-varnames:
    - NotSilent
    - IsSilent
  model.SwitchUserE2EPublicKeyRequest:
    properties:
      public_key:
        type: string
      user_id:
        type: string
    required:
    - public_key
    - user_id
    type: object
  model.TopOrCancelTopAction:
    enum:
    - 0
    - 1
    type: integer
    x-enum-varnames:
    - CancelTopDialog
    - TopDialog
  model.TopOrCancelTopDialogRequest:
    properties:
      action:
        $ref: '#/definitions/model.TopOrCancelTopAction'
      dialog_id:
        type: integer
    required:
    - dialog_id
    type: object
  model.UpdateGroupAnnouncementRequest:
    properties:
      content:
        description: 公告内容
        type: string
      group_id:
        description: 群组ID
        type: integer
      id:
        description: 公告ID
        type: integer
      title:
        description: 公告标题
        type: string
    required:
    - content
    - group_id
    - id
    - title
    type: object
  model.UserInfo:
    properties:
      user_avatar:
        type: string
      user_id:
        type: string
      user_name:
        type: string
    type: object
  model.UserInfoRequest:
    properties:
      avatar:
        type: string
      coss_id:
        type: string
      nickname:
        type: string
      signature:
        type: string
      tel:
        type: string
    type: object
  model.UserInfoResponse:
    properties:
      avatar:
        type: string
      coss_id:
        type: string
      email:
        type: string
      last_login_time:
        description: LastLoginTime 上次登录时间，如果为0说明用户注册了但从未登录过
        type: integer
      login_number:
        type: integer
      new_device_login:
        description: NewDeviceLogin 表示是否新设备登录
        type: boolean
      nickname:
        type: string
      preferences:
        $ref: '#/definitions/model.Preferences'
      relation_status:
        $ref: '#/definitions/model.UserRelationStatus'
      signature:
        type: string
      status:
        $ref: '#/definitions/model.UserStatus'
      tel:
        type: string
      user_id:
        type: string
    type: object
  model.UserRelationStatus:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-comments:
      UserRelationStatusBlacked: 删除
      UserRelationStatusFriend: 正常
      UserRelationStatusUnknown: 拉黑
    x-enum-varnames:
    - UserRelationStatusUnknown
    - UserRelationStatusFriend
    - UserRelationStatusBlacked
  model.UserRequestListResponse:
    properties:
      create_at:
        type: integer
      expired_at:
        type: integer
      id:
        type: integer
      receiver_id:
        type: string
      receiver_info:
        $ref: '#/definitions/model.UserInfo'
      remark:
        type: string
      sender_id:
        type: string
      sender_info:
        $ref: '#/definitions/model.UserInfo'
      status:
        type: integer
    type: object
  model.UserRequestListResponseList:
    properties:
      current_page:
        type: integer
      list:
        items:
          $ref: '#/definitions/model.UserRequestListResponse'
        type: array
      total:
        type: integer
    type: object
  model.UserStatus:
    enum:
    - 0
    type: integer
    x-enum-comments:
      UserStatusUnknown: 未知状态
    x-enum-varnames:
    - UserStatusUnknown
  usersorter.CustomGroupData:
    properties:
      avatar:
        type: string
      dialog_id:
        type: integer
      group_id:
        type: integer
      name:
        type: string
      status:
        type: integer
    type: object
  v1.AfterMsg:
    properties:
      dialog_id:
        type: integer
      msg_id:
        type: integer
    type: object
  v1.EditGroupMsgRequest:
    properties:
      content:
        type: string
      msg_type:
        type: integer
    type: object
  v1.EditUserMsgRequest:
    properties:
      content:
        type: string
      msg_type:
        type: integer
    type: object
  v1.GetGroupLabelMsgListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/v1.Message'
        type: array
    type: object
  v1.GetGroupMessageReadersResponse:
    properties:
      avatar:
        type: string
      name:
        type: string
      user_id:
        type: string
    type: object
  v1.GetUserLabelMsgListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/v1.Message'
        type: array
    type: object
  v1.Group:
    properties:
      avatar:
        description: Avatar 群组头像
        type: string
      id:
        description: Id 群聊ID
        type: integer
      max_members_limit:
        description: MaxMembersLimit 群组成员上限
        type: integer
      member:
        description: Member 群聊成员数量
        type: integer
      name:
        description: Name 群聊名称
        type: string
    type: object
  v1.GroupInfo:
    properties:
      avatar:
        description: Avatar 群组头像
        type: string
      creator_id:
        description: CreatorId 创建者ID
        type: string
      dialog_id:
        description: DialogId 对话ID
        type: integer
      encrypt:
        description: Encrypt 是否开启加密，只有当群聊为私密群才能开启
        type: boolean
      id:
        description: Id 群聊ID
        type: integer
      join_approve:
        description: JoinApprove 入群审批
        type: boolean
      max_members_limit:
        description: MaxMembersLimit 群组成员上限
        type: integer
      name:
        description: Name 群聊名称
        type: string
      preferences:
        $ref: '#/definitions/v1.Preferences'
      silence_time:
        description: SilenceTime 群禁言结束时间，不为0表示开启群聊全员禁言
        type: integer
      status:
        description: Status 群组状态
        type: integer
      type:
        description: Type 群组类型
        type: integer
    type: object
  v1.GroupMessageReadRequest:
    properties:
      dialog_id:
        type: integer
      msg_ids:
        items:
          type: integer
        type: array
      read_all:
        type: boolean
    type: object
  v1.LabelGroupMessageRequest:
    properties:
      is_label:
        type: boolean
    type: object
  v1.LabelUserMessageRequest:
    properties:
      is_label:
        type: boolean
    type: object
  v1.Message:
    properties:
      at_all_user:
        type: boolean
      at_users:
        items:
          type: string
        type: array
      content:
        type: string
      dialog_id:
        type: integer
      group_id:
        type: integer
      is_burn_after_reading:
        type: boolean
      is_label:
        type: boolean
      is_read:
        type: boolean
      msg_id:
        type: integer
      msg_type:
        type: integer
      read_at:
        type: integer
      receiver_info:
        $ref: '#/definitions/v1.SenderInfo'
      reply_id:
        type: integer
      send_at:
        type: integer
      sender_id:
        type: string
      sender_info:
        $ref: '#/definitions/v1.SenderInfo'
    type: object
  v1.Preferences:
    properties:
      entry_method:
        description: EntryMethod 进入方式
        type: integer
      identity:
        description: Identity 身份
        type: integer
      inviter:
        description: Inviter 邀请者
        type: string
      joined_at:
        description: JoinedAt 加入时间
        type: integer
      mute_end_time:
        description: MuteEndTime 静音结束时间
        type: integer
      open_burn_after_reading:
        description: OpenBurnAfterReading 阅后即焚开启
        type: integer
      remark:
        description: Remark 备注
        type: string
      silent_notification:
        description: SilentNotification 静默通知
        type: integer
    type: object
  v1.ReadUserMsgsRequest:
    properties:
      dialog_id:
        type: integer
      msg_ids:
        items:
          type: integer
        type: array
      read_all:
        type: boolean
    type: object
  v1.SendGroupMsgRequest:
    properties:
      at_all_user:
        type: boolean
      at_users:
        items:
          type: string
        type: array
      content:
        type: string
      dialog_id:
        type: integer
      group_id:
        type: integer
      is_burn_after_reading:
        type: boolean
      reply_id:
        type: integer
      type:
        type: integer
    type: object
  v1.SendUserMsgRequest:
    properties:
      content:
        type: string
      dialog_id:
        type: integer
      is_burn_after_reading:
        type: boolean
      receiver_id:
        type: string
      reply_id:
        type: integer
      type:
        allOf:
        - $ref: '#/definitions/v1.SendUserMsgRequestType'
        description: Type 消息类型 1=文本消息 2=语音消息 3=图片消息 4=标注 5=群公告 6=文件消息 7=视频消息 8=emoji回复
          9=语音通话 10=视频通话 11=撤回消息 12=取消标注
    type: object
  v1.SendUserMsgRequestType:
    enum:
    - 1
    - 10
    - 11
    - 12
    - 2
    - 3
    - 4
    - 5
    - 6
    - 7
    - 8
    - 9
    type: integer
    x-enum-varnames:
    - N1
    - N10
    - N11
    - N12
    - N2
    - N3
    - N4
    - N5
    - N6
    - N7
    - N8
    - N9
  v1.SenderInfo:
    properties:
      avatar:
        type: string
      name:
        type: string
      user_id:
        type: string
    type: object
  v1.UpdateGroupRequest:
    properties:
      avatar:
        description: Avatar 新的群聊头像
        type: string
      encrypt:
        description: Encrypt 是否开启加密，只有当群聊为私密群才能开启
        type: boolean
      join_approve:
        description: JoinApprove 入群审批
        type: boolean
      name:
        description: Name 新的群聊名称
        type: string
      silence_time:
        description: SilenceTime 群禁言结束时间，不为0表示开启群聊全员禁言
        type: integer
      type:
        allOf:
        - $ref: '#/definitions/v1.UpdateGroupRequestType'
        description: Type 群组类型 0(私密群) 1(公开群)
    type: object
  v1.UpdateGroupRequestType:
    enum:
    - 0
    - 1
    type: integer
    x-enum-varnames:
    - UpdateGroupRequestTypeN0
    - UpdateGroupRequestTypeN1
info:
  contact: {}
paths:
  /admin/notification/send_all:
    post:
      consumes:
      - application/json
      description: 发送全体通知
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SendAllNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_admin_api_http_model.Response'
      summary: 发送全体通知
      tags:
      - Admin
  /api/v1/group/{id}:
    delete:
      consumes:
      - application/json
      description: 群主解散创建的群聊
      parameters:
      - description: 要删除的群聊ID
        format: uint32
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功删除群聊
          schema:
            type: string
      security:
      - ApiKeyAuth: []
      summary: 删除群聊
      tags:
      - group
    get:
      description: 根据群聊ID获取群聊的详细信息
      parameters:
      - description: 群聊ID
        format: uint32
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: 返回群聊信息
          schema:
            $ref: '#/definitions/v1.GroupInfo'
      summary: 获取群聊信息
      tags:
      - group
    put:
      consumes:
      - application/json
      description: 更新现有群聊的信息
      parameters:
      - description: 要更新的群聊ID
        in: path
        name: id
        required: true
        type: integer
      - description: 更新现有群聊的信息
        in: body
        name: requestBody
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 成功更新群聊信息
          schema:
            type: string
      summary: 更新群聊信息
      tags:
      - group
  /api/v1/group/search:
    get:
      description: 创建一个新的群聊
      parameters:
      - description: Authentication header
        in: header
        name: Authorization
        required: true
        type: string
      - description: 群聊名称或ID
        in: path
        name: keyword
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功创建群聊
          schema:
            $ref: '#/definitions/v1.Group'
      security:
      - ApiKeyAuth: []
      summary: 创建群聊
      tags:
      - group
  /msg/dialog/after:
    post:
      consumes:
      - application/json
      description: 获取指定对话落后消息
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          items:
            $ref: '#/definitions/v1.AfterMsg'
          type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 获取指定对话落后消息
      tags:
      - Msg
  /msg/dialog/group/{dialog_id}/label:
    get:
      consumes:
      - application/json
      description: 获取群聊标注信息
      parameters:
      - description: 对话id
        in: path
        name: dialog_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
            - properties:
                data:
                  $ref: '#/definitions/v1.GetGroupLabelMsgListResponse'
              type: object
      summary: 获取群聊标注信息
      tags:
      - Msg
  /msg/dialog/list:
    get:
      consumes:
      - application/json
      description: 获取用户对话列表
      parameters:
      - description: 页码
        in: query
        name: page_num
        required: true
        type: integer
      - description: 页大小
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 获取用户对话列表
      tags:
      - Msg
  /msg/dialog/user/{dialog_id}/label:
    get:
      consumes:
      - application/json
      description: 获取私聊标注信息
      parameters:
      - description: 对话id
        in: path
        name: dialog_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
            - properties:
                data:
                  $ref: '#/definitions/v1.GetUserLabelMsgListResponse'
              type: object
      summary: 获取私聊标注信息
      tags:
      - Msg
  /msg/group/{id}:
    delete:
      consumes:
      - application/json
      description: 撤回群消息
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 撤回群消息
      tags:
      - Msg
    put:
      consumes:
      - application/json
      description: 编辑群消息
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v1.EditGroupMsgRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 编辑群消息
      tags:
      - Msg
  /msg/group/{id}/label:
    post:
      consumes:
      - application/json
      description: 标注群聊消息状态
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v1.LabelGroupMessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 标注群聊消息状态
      tags:
      - Msg
  /msg/group/{id}/read:
    get:
      consumes:
      - application/json
      description: 获取消息已读人员
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: integer
      - description: 对话ID
        in: query
        name: dialog_id
        required: true
        type: integer
      - description: 群聊ID
        in: query
        name: group_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/v1.GetGroupMessageReadersResponse'
                  type: array
              type: object
      summary: 获取消息已读人员
      tags:
      - Msg
  /msg/group/list:
    get:
      consumes:
      - application/json
      description: 获取群聊消息
      parameters:
      - description: 对话id
        in: query
        name: dialog_id
        required: true
        type: string
      - description: 消息id
        in: query
        name: msg_id
        type: integer
      - description: 用户id
        in: query
        name: user_id
        type: string
      - description: 类型
        in: query
        name: type
        type: string
      - description: 消息
        in: query
        name: content
        type: string
      - description: 页码
        in: query
        name: page_num
        required: true
        type: integer
      - description: 页大小
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 获取群聊消息
      tags:
      - Msg
  /msg/group/read:
    put:
      consumes:
      - application/json
      description: 批量设置群聊消息为已读
      parameters:
      - description: 请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v1.GroupMessageReadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 批量设置群聊消息为已读
      tags:
      - Msg
  /msg/group/send:
    post:
      consumes:
      - application/json
      description: 发送群聊消息
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v1.SendGroupMsgRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 发送群聊消息
      tags:
      - Msg
  /msg/user/{id}:
    delete:
      consumes:
      - application/json
      description: 撤回用户消息
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 撤回用户消息
      tags:
      - Msg
    put:
      consumes:
      - application/json
      description: 编辑用户消息
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v1.EditUserMsgRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 编辑用户消息
      tags:
      - Msg
  /msg/user/{id}/label:
    post:
      consumes:
      - application/json
      description: 标注用户消息状态
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: integer
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v1.LabelUserMessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 标注用户消息状态
      tags:
      - Msg
  /msg/user/list:
    get:
      consumes:
      - application/json
      description: 获取私聊消息
      parameters:
      - description: 对话id
        in: query
        name: dialog_id
        required: true
        type: string
      - description: 类型
        in: query
        name: type
        type: string
      - description: 用户id
        in: query
        name: user_id
        type: string
      - description: 消息
        in: query
        name: content
        type: string
      - description: 消息id
        in: query
        name: msg_id
        type: integer
      - description: 页码
        in: query
        name: page_num
        required: true
        type: integer
      - description: 页大小
        in: query
        name: page_size
        required: true
        type: integer
      - description: 开始时间
        in: query
        name: start_at
        type: integer
      - description: 结束时间
        in: query
        name: end_at
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 获取私聊消息
      tags:
      - Msg
  /msg/user/read:
    put:
      consumes:
      - application/json
      description: 批量设置私聊消息状态为已读
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v1.ReadUserMsgsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 批量设置私聊消息状态为已读
      tags:
      - Msg
  /msg/user/send:
    post:
      consumes:
      - application/json
      description: 发送私聊消息
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/v1.SendUserMsgRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_msg_api_http_v1.Response'
      summary: 发送私聊消息
      tags:
      - Msg
  /push/ws:
    get:
      description: websocket请求
      responses: {}
      summary: websocket请求
      tags:
      - Push
  /relation/dialog/show:
    post:
      consumes:
      - application/json
      description: '关闭或打开对话(action: 0:关闭对话, 1:打开对话)'
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CloseOrOpenDialogRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: '关闭或打开对话(action: 0:关闭对话, 1:打开对话)'
      tags:
      - Dialog
  /relation/dialog/top:
    post:
      consumes:
      - application/json
      description: '是否置顶对话(action: 0:关闭取消置顶对话, 1:置顶对话)'
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.TopOrCancelTopDialogRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: '是否置顶对话(action: 0:关闭取消置顶对话, 1:置顶对话)'
      tags:
      - Dialog
  /relation/group/admin/add:
    post:
      consumes:
      - application/json
      description: 添加群聊管理员
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.AddGroupAdminRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 添加群聊管理员
      tags:
      - GroupRelation
  /relation/group/admin/announcement:
    post:
      consumes:
      - application/json
      description: 创建群公告(管理员)
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CreateGroupAnnouncementRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 创建群公告(管理员)
      tags:
      - GroupRelation
  /relation/group/admin/announcement/delete:
    post:
      consumes:
      - application/json
      description: 删除群公告
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.DeleteGroupAnnouncementRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 删除群公告
      tags:
      - GroupRelation
  /relation/group/admin/announcement/update:
    post:
      consumes:
      - application/json
      description: 更新群公告
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UpdateGroupAnnouncementRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 更新群公告
      tags:
      - GroupRelation
  /relation/group/admin/manage/join:
    post:
      consumes:
      - application/json
      description: 管理员管理加入群聊 action (0=拒绝, 1=同意)
      parameters:
      - description: 'Action (0: rejected, 1: joined)'
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ManageJoinGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 管理员管理加入群聊
      tags:
      - GroupRelation
  /relation/group/admin/manage/remove:
    post:
      consumes:
      - application/json
      description: 将用户从群聊移除
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.RemoveUserFromGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 将用户从群聊移除
      tags:
      - GroupRelation
  /relation/group/announcement/detail:
    get:
      consumes:
      - application/json
      description: 查询群公告详情
      parameters:
      - description: 群公告id
        in: query
        name: id
        required: true
        type: string
      - description: 群id
        in: query
        name: group_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 查询群公告详情
      tags:
      - GroupRelation
  /relation/group/announcement/list:
    get:
      consumes:
      - application/json
      description: 获取群公告
      parameters:
      - description: 群聊id
        in: query
        name: group_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 获取群公告
      tags:
      - GroupRelation
  /relation/group/announcement/read:
    post:
      consumes:
      - application/json
      description: 设置群聊公告为已读
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ReadGroupAnnouncementRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 设置群聊公告为已读
      tags:
      - GroupRelation
  /relation/group/announcement/read/list:
    get:
      consumes:
      - application/json
      description: 获取已读公告用户
      parameters:
      - description: id
        in: query
        name: id
        required: true
        type: string
      - description: group_id
        in: query
        name: group_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 获取已读公告用户
      tags:
      - GroupRelation
  /relation/group/burn/timeout/set:
    post:
      consumes:
      - application/json
      description: 设置群聊阅后即焚消息销毁时间
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SetGroupOpenBurnAfterReadingTimeOutRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 设置群聊阅后即焚消息销毁时间
      tags:
      - GroupRelation
  /relation/group/delete_request_record:
    post:
      consumes:
      - application/json
      description: 删除群聊申请记录
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.DeleteRecordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 删除群聊申请记录
      tags:
      - GroupRelation
  /relation/group/invite:
    post:
      consumes:
      - application/json
      description: 邀请加入群聊
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.InviteGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 邀请加入群聊
      tags:
      - GroupRelation
  /relation/group/join:
    post:
      consumes:
      - application/json
      description: 加入群聊
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.JoinGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 加入群聊
      tags:
      - GroupRelation
  /relation/group/list:
    get:
      description: 群聊列表
      produces:
      - application/json
      responses:
        "200":
          description: status 0:正常状态；1:被封禁状态；2:被删除状态
          schema:
            allOf:
            - $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/usersorter.CustomGroupData'
                  type: array
              type: object
      summary: 群聊列表
      tags:
      - GroupRelation
  /relation/group/manage_join:
    post:
      consumes:
      - application/json
      description: 用户管理加入群聊 action (0=拒绝, 1=同意)
      parameters:
      - description: 'Action (0: rejected, 1: joined)'
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ManageJoinGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 用户管理加入群聊
      tags:
      - GroupRelation
  /relation/group/member:
    get:
      description: 群聊成员列表
      parameters:
      - description: 群聊ID
        in: query
        name: group_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 群聊成员列表
      tags:
      - GroupRelation
  /relation/group/quit:
    post:
      consumes:
      - application/json
      description: 退出群聊
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.QuitGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 退出群聊
      tags:
      - GroupRelation
  /relation/group/remark/set:
    post:
      consumes:
      - application/json
      description: 设置自己在群聊内的名称
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SetGroupUserRemarkRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 设置自己在群聊内的名称
      tags:
      - GroupRelation
  /relation/group/request_list:
    get:
      consumes:
      - application/json
      description: 获取用户的群聊申请列表
      parameters:
      - description: 页码
        in: query
        name: page_num
        type: integer
      - description: 页大小
        in: query
        name: page_size
        type: integer
      - description: Bearer JWT
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: status (0=等待, 1=已通过, 2=已拒绝, 3=邀请发送者, 4=邀请接收者)
          schema:
            allOf:
            - $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
            - properties:
                data:
                  $ref: '#/definitions/model.GroupRequestListResponseList'
              type: object
      security:
      - Bearer: []
      summary: 获取群聊申请列表
      tags:
      - GroupRelation
  /relation/group/silent:
    post:
      consumes:
      - application/json
      description: 设置群聊静默通知
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SetGroupSilentNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 设置群聊静默通知
      tags:
      - GroupRelation
  /relation/user/add_blacklist:
    post:
      consumes:
      - application/json
      description: 添加黑名单
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.AddBlacklistRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 添加黑名单
      tags:
      - UserRelation
  /relation/user/add_friend:
    post:
      consumes:
      - application/json
      description: 发送好友请求
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SendFriendRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 发送好友请求
      tags:
      - UserRelation
  /relation/user/blacklist:
    get:
      description: 黑名单
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 黑名单
      tags:
      - UserRelation
  /relation/user/burn/open:
    post:
      consumes:
      - application/json
      description: '设置阅后即焚(action: 0:关闭, 1:打开)'
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.OpenUserBurnAfterReadingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: '设置阅后即焚(action: 0:关闭, 1:打开)'
      tags:
      - UserRelation
  /relation/user/delete_blacklist:
    post:
      consumes:
      - application/json
      description: 删除黑名单
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.DeleteBlacklistRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 删除黑名单
      tags:
      - UserRelation
  /relation/user/delete_friend:
    post:
      consumes:
      - application/json
      description: 删除好友
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.DeleteFriendRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 删除好友
      tags:
      - UserRelation
  /relation/user/delete_request_record:
    post:
      consumes:
      - application/json
      description: 删除好友申请记录
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.DeleteRecordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 删除好友申请记录
      tags:
      - UserRelation
  /relation/user/friend_list:
    get:
      description: 好友列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 好友列表
      tags:
      - UserRelation
  /relation/user/manage_friend:
    post:
      consumes:
      - application/json
      description: 管理好友请求  action (0=拒绝, 1=同意)
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ManageFriendRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 管理好友请求
      tags:
      - UserRelation
  /relation/user/remark/set:
    post:
      consumes:
      - application/json
      description: 修改用户备注
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SetUserFriendRemarkRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 修改好友备注
      tags:
      - UserRelation
  /relation/user/request_list:
    get:
      description: 好友申请列表
      parameters:
      - description: 页码
        in: query
        name: page_num
        type: integer
      - description: 页大小
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: UserStatus 申请状态 (0=申请中, 1=待通过, 2=已添加, 3=被拒绝, 4=已删除, 5=已拒绝)
          schema:
            allOf:
            - $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
            - properties:
                data:
                  $ref: '#/definitions/model.UserRequestListResponseList'
              type: object
      summary: 好友申请列表
      tags:
      - UserRelation
  /relation/user/silent:
    post:
      consumes:
      - application/json
      description: 设置私聊静默通知
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SetUserSilentNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      summary: 设置私聊静默通知
      tags:
      - UserRelation
  /relation/user/switch/e2e/key:
    post:
      consumes:
      - application/json
      description: 交换用户端到端公钥
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SwitchUserE2EPublicKeyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_relation_api_http_model.Response'
      security:
      - BearerToken: []
      summary: 交换用户端到端公钥
      tags:
      - UserRelation
  /storage/files:
    post:
      description: 上传文件
      parameters:
      - description: 文件
        in: formData
        name: file
        required: true
        type: file
      - description: 文件类型(0:音频，1:图片，2:文件，3:视频)
        in: formData
        name: type
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_storage_api_http_model.Response'
      summary: 上传文件
      tags:
      - Storage
  /storage/files/:id:
    delete:
      description: 删除文件
      parameters:
      - description: 文件id
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_storage_api_http_model.Response'
      summary: 删除文件
      tags:
      - Storage
    get:
      description: 获取文件信息
      parameters:
      - description: 文件id
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_storage_api_http_model.Response'
      summary: 获取文件信息
      tags:
      - Storage
  /storage/files/download/:type/:id:
    get:
      description: 下载文件
      parameters:
      - description: 文件id
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_storage_api_http_model.Response'
      summary: 下载文件
      tags:
      - Storage
  /storage/files/multipart/abort:
    post:
      consumes:
      - application/json
      description: 清除文件分片
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.AbortUploadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_storage_api_http_model.Response'
      summary: 清除文件分片(用于中断上传)
      tags:
      - Storage
  /storage/files/multipart/complete:
    post:
      consumes:
      - application/json
      description: 完成分片上传
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.CompleteUploadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_storage_api_http_model.Response'
      summary: 完成分片上传
      tags:
      - Storage
  /storage/files/multipart/key:
    get:
      description: 生成分片上传id
      parameters:
      - description: 文件名
        in: query
        name: file_name
        required: true
        type: string
      - description: 文件类型(0:音频，1:图片，2:文件，3:视频)
        in: query
        name: type
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_storage_api_http_model.Response'
      summary: 生成分片上传id
      tags:
      - Storage
  /storage/files/multipart/upload:
    post:
      description: 上传分片
      parameters:
      - description: 本次分片
        in: formData
        name: file
        required: true
        type: file
      - description: 上传id
        in: formData
        name: upload_id
        required: true
        type: string
      - description: 本次分片序号
        in: formData
        name: part_number
        required: true
        type: integer
      - description: 文件唯一key
        in: formData
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_storage_api_http_model.Response'
      summary: 上传分片
      tags:
      - Storage
  /user/activate:
    get:
      consumes:
      - application/json
      description: 激活账号
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 激活账号
      tags:
      - User
  /user/avatar/modify:
    post:
      consumes:
      - application/json
      description: 修改用户头像
      parameters:
      - description: 头像文件
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 修改用户头像
      tags:
      - User
  /user/bundle/get:
    get:
      consumes:
      - application/json
      description: 获取用户密钥包
      parameters:
      - description: 用户id
        in: query
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 获取用户密钥包
      tags:
      - User
  /user/bundle/modify:
    post:
      consumes:
      - application/json
      description: 修改用户密码
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ModifyUserSecretBundleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      security:
      - BearerToken: []
      summary: 修改用户密钥包
      tags:
      - User
  /user/clients/get:
    get:
      consumes:
      - application/json
      description: 获取该用户当前登录的所有客户端
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 获取该用户当前登录的所有客户端
      tags:
      - User
  /user/email/code/send:
    post:
      consumes:
      - application/json
      description: 发送重置验证码(邮箱)
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SendEmailCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 发送重置验证码(邮箱)
      tags:
      - User
  /user/info:
    get:
      description: 查询用户信息
      parameters:
      - description: Bearer JWT
        in: header
        name: Authorization
        required: true
        type: string
      - description: 用户id
        in: query
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Status 用户状态 (0=未知状态, 1=正常状态, 2=被禁用, 3=已删除, 4=锁定状态) RelationStatus
            用户关系状态 (0=不是好友, 1=是好友, 2=黑名单)
          schema:
            allOf:
            - $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
            - properties:
                data:
                  $ref: '#/definitions/model.UserInfoResponse'
              type: object
      security:
      - Bearer: []
      summary: 查询用户信息
      tags:
      - User
  /user/info/modify:
    post:
      consumes:
      - application/json
      description: 修改用户信息
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.UserInfoRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      security:
      - BearerToken: []
      summary: 修改用户信息
      tags:
      - User
  /user/key/set:
    post:
      consumes:
      - application/json
      description: 设置用户公钥
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SetPublicKeyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      security:
      - BearerToken: []
      summary: 设置用户公钥
      tags:
      - User
  /user/login:
    post:
      consumes:
      - application/json
      description: 用户登录
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 用户登录
      tags:
      - User
  /user/logout:
    post:
      consumes:
      - application/json
      description: 退出登录
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.LogoutRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 退出登录
      tags:
      - User
  /user/password/modify:
    post:
      consumes:
      - application/json
      description: 修改用户密码
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.PasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      security:
      - BearerToken: []
      summary: 修改用户密码
      tags:
      - User
  /user/public_key/reset:
    post:
      consumes:
      - application/json
      description: 重置用户pgp公钥
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ResetPublicKeyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 重置用户pgp公钥
      tags:
      - User
  /user/register:
    post:
      consumes:
      - application/json
      description: 用户注册
      parameters:
      - description: request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 用户注册
      tags:
      - User
  /user/search:
    get:
      description: 搜索用户
      parameters:
      - description: Bearer JWT
        in: header
        name: Authorization
        required: true
        type: string
      - description: 用户邮箱
        in: query
        name: email
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Status 用户状态 (0=未知状态, 1=正常状态, 2=被禁用, 3=已删除, 4=锁定状态) RelationStatus
            用户关系状态 (0=不是好友, 1=是好友, 2=黑名单)
          schema:
            allOf:
            - $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
            - properties:
                data:
                  $ref: '#/definitions/model.UserInfoResponse'
              type: object
      security:
      - Bearer: []
      summary: 搜索用户
      tags:
      - User
  /user/system/key/get:
    get:
      consumes:
      - application/json
      description: 获取系统pgp公钥
      parameters:
      - description: 指定根据id还是邮箱类型查找
        enum:
        - 0
        - 1
        in: query
        name: type
        required: true
        type: integer
      - description: 邮箱
        in: query
        name: email
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_cossim_coss-server_internal_user_api_http_model.Response'
      summary: 获取系统pgp公钥
      tags:
      - User
swagger: "2.0"
